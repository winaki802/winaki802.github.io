(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ScrapOutHistory"],{e263:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-div",[a("v-chip",{staticClass:"ma-2 mp-2",attrs:{flat:"",close:"",color:"cyan",label:"","text-color":"white"}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-tag-outline ")]),t._v(" Out-Door Scrap Out History ")],1)],1)],1),a("v-container",[a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12",lg:"1",xl:"1"}},[a("v-menu",{ref:"fmenu",attrs:{"close-on-content-click":!1,"return-value":t.fdate,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.fdate=e},"update:return-value":function(e){t.fdate=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fdate","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.fdate,callback:function(e){t.fdate=e},expression:"fdate"}},"v-text-field",i,!1),s))]}}]),model:{value:t.fmenu,callback:function(e){t.fmenu=e},expression:"fmenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.fdate,callback:function(e){t.fdate=e},expression:"fdate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.fmenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.fmenu.save(t.fdate)}}},[t._v(" OK ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"12",lg:"1",xl:"1"}},[a("v-menu",{ref:"tmenu",attrs:{"close-on-content-click":!1,"return-value":t.tdate,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.tdate=e},"update:return-value":function(e){t.tdate=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Tdate","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.tdate,callback:function(e){t.tdate=e},expression:"tdate"}},"v-text-field",i,!1),s))]}}]),model:{value:t.tmenu,callback:function(e){t.tmenu=e},expression:"tmenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.tdate,callback:function(e){t.tdate=e},expression:"tdate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.tmenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.tmenu.save(t.tdate)}}},[t._v(" OK ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"1",xl:"1"}},[a("v-select",{attrs:{items:t.tsPos,"item-text":"name",label:"TSPOS#","single-line":""},model:{value:t.paraTsNo,callback:function(e){t.paraTsNo=e},expression:"paraTsNo"}})],1),a("v-col",{attrs:{cols:"12",md:"12",lg:"1",xl:"1"}},[a("v-text-field",{attrs:{label:"SCRAP COMPANY"},model:{value:t.paraScrCmpy,callback:function(e){t.paraScrCmpy=e},expression:"paraScrCmpy"}})],1),a("v-col",{attrs:{cols:"12",md:"12",lg:"1",xl:"1"}},[a("v-text-field",{attrs:{label:"DRIVER NAME"},model:{value:t.paraDrvName,callback:function(e){t.paraDrvName=e},expression:"paraDrvName"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"1",lg:"1",xl:"1"}},[a("v-btn",t._g(t._b({staticClass:"pa-1 ma-1",attrs:{color:"primary",dark:"","align-content-start":"","flex-wrap":""},on:{click:function(e){return t.fetchScrapData()}}},"v-btn",t.attrs,!1),t.on),[t._v(" Search ")])],1)],1)],1)]),a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.dsScrapOutHistoryList,"sort-by":"tsdattm","sort-desc":!0,"item-key":"tsdattm"},scopedSlots:t._u([{key:"item.outser",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-2",attrs:{color:"indigo","align-content-start":"",outlined:""},on:{click:function(e){return t.fetchScrapOutHistory(s.outser)}}},[t._v(" "+t._s(s.outser)+" ")])]}},{key:"item.tstotwt",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.tstotwt),dark:""}},[t._v(" "+t._s(s.tstotwt.toLocaleString())+" ")])]}},{key:"item.tsemptywt",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.tsemptywt),dark:""}},[t._v(" "+t._s(s.tsemptywt.toLocaleString())+" ")])]}},{key:"item.tsscrwt",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.tsscrwt),dark:""}},[t._v(" "+t._s(s.tsscrwt.toLocaleString())+" ")])]}},{key:"footer",fn:function(){return[a("div",[a("v-divider"),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"ml-1",attrs:{cols:"1",sm:"1",md:"1",lg:"1",xl:"1"}},[a("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v(" TOTAL ")])],1),a("v-col",{staticClass:"ml-1",attrs:{cols:"1",sm:"1",md:"1",lg:"1",xl:"1"}},[a("v-badge",{staticClass:"ma-2 mt-4",attrs:{color:"green",content:t.dsScrapOutHistoryList.length,value:t.dsScrapOutHistoryList.length}},[t._v(" ( Rows ) ")])],1),a("v-col",{staticClass:"ml-1",attrs:{cols:"1",sm:"1",md:"1",lg:"1",xl:"1"}},[a("v-badge",{staticClass:"ma-2 mt-4",attrs:{color:"green",content:"totwt"}},[t._v(" "+t._s(t.tstotwtsum.toLocaleString())+" (kg) ")])],1),a("v-col",{staticClass:"ml-1",attrs:{cols:"1",sm:"1",md:"1",lg:"1",xl:"1"}},[a("v-badge",{staticClass:"ma-2 mt-4",attrs:{color:"green",content:"empwt"}},[t._v(" "+t._s(t.tsemptywtsum.toLocaleString())+" (kg) ")])],1),a("v-col",{staticClass:"ml-1",attrs:{cols:"1",sm:"1",md:"1",lg:"1",xl:"1"}},[a("v-badge",{staticClass:"ma-2 mt-4",attrs:{color:"green",content:"scrwt"}},[t._v(" "+t._s(t.scrapwtsum.toLocaleString())+" (kg) ")])],1)],1)],1)]},proxy:!0}]),model:{value:t.selectedRows,callback:function(e){t.selectedRows=e},expression:"selectedRows"}})],1),a("v-dialog",{attrs:{"max-width":"1024px"},model:{value:t.dialog3065,callback:function(e){t.dialog3065=e},expression:"dialog3065"}},[a("v-card",[a("v-card-title",[t._v(" Scrap Out Detail List ")]),a("v-card-text",[a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.dialogHeaders,items:t.dsScrapDataList,"sort-by":"rowseq","sort-desc":!0,"item-key":"rowseq"},scopedSlots:t._u([{key:"item.plastic1",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.plastic1),dark:""}},[t._v(" "+t._s(s.plastic1.toLocaleString())+" ")])]}}]),model:{value:t.selectedRows,callback:function(e){t.selectedRows=e},expression:"selectedRows"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){e.stopPropagation(),t.dialog3065=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},i=[],n=a("5530"),o=(a("d3b7"),a("25f0"),a("159b"),a("a434"),a("bc3a")),r=a.n(o),l=a("2f62"),c=a("c1df"),d=a.n(c),m={data:function(){return{singleSelect:!1,selectedRows:[],dialog:!1,dialogDelete:!1,dialog3065:!1,headers:[{text:"OUTDATE",align:"start",value:"tsoutdat"},{text:"OUT TIME",value:"tsdattm"},{text:"T/S NO.",value:"tsno"},{text:"OUT SerialNo.",align:"center",value:"outser"},{text:"TOTAL WT(Kg)",value:"tstotwt"},{text:"EMPTY WT(Kg)",value:"tsemptywt"},{text:"SCRAP WT(Kg)",value:"tsscrwt"},{text:"TRUCK NO",align:"start",value:"truckno"},{text:"COMPANY",align:"start",value:"scrcmpy"},{text:"DRIVER NAME",align:"start",value:"drvname"},{text:"USERID",align:"start",value:"userid"}],dialogHeaders:[{text:"InDate",align:"start",value:"intime"},{text:"SER",value:"rowseq"},{text:"LOCATION",value:"odsl"},{text:"SCARP ZONE",value:"zone"},{text:"SCRAP ITEM",value:"scrapitem"},{text:"WT(Kg)",align:"end",value:"plastic1"},{text:"Id",align:"start",value:"chgname"},{text:"OutDate",align:"start",value:"outdattime"}],dsScrapOutHistoryList:[],dsScrapDataList:[],selectData:"",tstotwtsum:0,tsemptywtsum:0,scrapwtsum:0,editedIndex:-1,editedItem:{tsdattm:"",outser:"",tstotwt:0,tsemptywt:0,tsscrwt:0,scrcmpy:"",truckno:"",drvname:""},defaultItem:{tsdattm:"",outser:"",tstotwt:0,tsemptywt:0,tsscrwt:0,scrcmpy:"",truckno:"",drvname:""},odsitems:[{name:"ODSCR1",id:1},{name:"ODSCR2",id:2}],tsPos:[{name:"TS1",id:1},{name:"TS2",id:2}],zoneitems:[{name:"MIXING",id:1},{name:"APU(170)",id:2},{name:"F-CAL(120)",id:3},{name:"BODY-CUTTER(15A)",id:4},{name:"BELT-CUTTER(15B)",id:5},{name:"RUBBER-SLITTER(15M)",id:6},{name:"APEX(16A)",id:7},{name:"SWB(16B)",id:8},{name:"CAPPLY(16C)",id:9},{name:"FABRIC-INSERT(16F)",id:10}],scrapitems:[{name:"MIXING_MB(MB)",id:1},{name:"MIXING_FM(FM)",id:2},{name:"MIXING_RW(RW)",id:3},{name:"APU_FABRIC(H_FA)",id:4},{name:"APU_STEEL(H_ST)",id:5},{name:"APU_TREAD/SIDE(H_TR)",id:6},{name:"APU_INNER(H_SI)",id:7},{name:"APU_MIXRUB(H_MX)",id:8},{name:"REMILL_TREAD(M_TR)",id:9},{name:"REMILL_SIDE(M_SI)",id:10},{name:"REMILL_INNER(M_IN)",id:11},{name:"FCAL_TOPCORD(FB_TC)",id:12},{name:"FCAL_RAWCORD(RC_RC)",id:13},{name:"FCAL_RUBBER(RU_RU)",id:14},{name:"BELT_SCRAP(ST_BS)",id:15},{name:"BELT_RUBBER(ST_RU)",id:16},{name:"BODY_CUTTER(FB_FB)",id:17},{name:"BODY_RE-CUTTER(FB_RC)",id:18},{name:"RUBBER_SLITTER(SL_SL)",id:19},{name:"APEX_SCRAP(AP_AA)",id:20},{name:"APEX_REWORK(RR_RE)",id:21},{name:"BEAD_COAT(ST_CS)",id:22},{name:"BEAD_RUBBER(RU_RU)",id:23},{name:"BEAD_REWORK(RW_RW)",id:24},{name:"WIDE_CAPPLY(FB_WC)",id:25},{name:"MINI_CAPPLY(FB_MC)",id:26},{name:"FI_HIGHTABLE(FI_HT)",id:27},{name:"FI_FabricInsert(FI_FI)",id:28}],fdate:(new Date).toISOString().substring(0,10),tdate:(new Date).toISOString().substring(0,10),fmenu:!1,tmenu:!1,modal:!1,menu2:!1,paraTsNo:"",paraScrCmpy:"",paraDrvName:"",statusType:[{name:"IN",id:1},{name:"OUT",id:2}],paraZone:""}},computed:Object(n["a"])({formTitle:function(){return-1===this.editedIndex?"New Scrap Item":"Edit Item"},OutformTitle:function(){return this.selectedRows.length>0?"ITEM OUT":"ITEMS NOT SELECTED"}},Object(l["c"])(["isLogin","userInfo"])),watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){this.fetchScrapData()},fetchScrapData:function(){var t=this,e=localStorage.getItem("token"),a=d()(this.fdate.toString()).format("YYYYMMDD"),s=d()(this.tdate.toString()).format("YYYYMMDD");"IN"===this.paraStatus?this.paraStatus="1":"OUT"===this.paraStatus&&(this.paraStatus="2"),console.log("winaki");var i={headers:{token:e,"Access-Control-Allow-Origin":"*"},params:{fdate:a,tdate:s,tsno:this.paraTsNo.substring(2,3),scrcmpy:this.paraScrCmpy,drvname:this.paraDrvName}};r.a.get("/ktgProject/selectQAC3070ScrapOutHistoryList.mdo",i).then((function(e){t.dsScrapOutHistoryList=e.data,t.tstotwtsum=0,t.tsemptywtsum=0,t.scrapwtsum=0,t.dsScrapOutHistoryList.forEach((function(e){t.tstotwtsum+=Math.round(parseFloat(e.tstotwt)),t.tsemptywtsum+=Math.round(parseFloat(e.tsemptywt)),t.scrapwtsum+=Math.round(parseFloat(e.tsscrwt))})),console.log("scrapwtsum"),console.log(t.scrapwtsum),console.log(e.data)})).catch((function(t){console.log(t)}))},fetchScrapOutHistory:function(t){var e=this;this.dialog3065=!0;var a={outser:t};r.a.get("/ktgProject/selectQAC3065ScrapOutDetail.mdo",{params:a}).then((function(t){e.dsScrapDataList=t.data,console.log(t.data)})).catch((function(t){console.log(t)}))},editItem:function(t){this.editedIndex=this.dsScrapOutHistoryList.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.dsScrapOutHistoryList.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){this.dsScrapOutHistoryList.splice(this.editedIndex,1),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDialog3065:function(){this.dialog3065=!1},OutDialogClose:function(){var t=this;this.dialogOut=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?(console.log(this.editedItem.scrapitem),Object.assign(this.dsScrapOutHistoryList[this.editedIndex],this.editedItem)):(console.log(this.editedItem.plastic1),console.log(this.editedItem.zone),this.dsScrapOutHistoryList.push(this.editedItem)),this.close()},getColor:function(t){var e="";return t>100&&(e="orange"),t>500&&(e="red"),t<100&&(e="green"),e}}},u=m,v=a("2877"),p=a("6544"),f=a.n(p),g=a("4ca6"),_=a("8336"),S=a("b0af"),h=a("99d9"),x=a("cc20"),I=a("62ad"),C=a("a523"),R=a("8fea"),T=a("2e4b"),w=a("169a"),O=a("ce7e"),b=a("132d"),y=a("e449"),E=a("0fd9"),k=a("b974"),D=a("2fa4"),A=a("8654"),L=Object(v["a"])(u,s,i,!1,null,null,null);e["default"]=L.exports;f()(L,{VBadge:g["a"],VBtn:_["a"],VCard:S["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VChip:x["a"],VCol:I["a"],VContainer:C["a"],VDataTable:R["a"],VDatePicker:T["a"],VDialog:w["a"],VDivider:O["a"],VIcon:b["a"],VMenu:y["a"],VRow:E["a"],VSelect:k["a"],VSpacer:D["a"],VTextField:A["a"]})}}]);
//# sourceMappingURL=ScrapOutHistory.761468b8.js.map